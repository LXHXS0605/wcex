<template drawer.bool="1">

  <meta name="module" pkg="lodash.get" cjs>
  <style>
    :host {
      display: block;
      height: 4em;
      padding-bottom: 0.4em;
    }
    #logo > :nth-child(1),
    #logo > :nth-child(2),
    #logo > :nth-child(4) {
      fill: "$$color.pria.ss(90).ll(70)";
    }
    #logo > :nth-child(3) {
      fill: "$$color.seca.ss(90).ll(70)";
    }
  </style>

  <!-- 标题栏 -->
  <wcex-ui.title class="shadow" style="z-index: 99;height: 100%;" $color="$color.pri.l2">
    <!-- 标题栏图标区 -->
    <div slot="icon" class="row">
      <wcex-ui.icon
        icon="menu"
        size="3"
        active
        $color="$color.sec.l2_"
        @click.stop="drawer=!drawer"
        :style="transform: rotate(${drawer?0:90}deg);"
      ></wcex-ui.icon>
      <svg id="logo" $src="$path('./assets/logo.svg')" style="width: 5em; margin: 0 2em"></svg>
      <!-- <img $src="$path('./assets/logo.svg')" style="width: 3em;height: 1em; margin: 0 1em" alt="" /> -->
    </div>
    <!-- 标题内容区 -->
    <div style="display: flex; align-items: baseline;">
      <h2 style="margin-right: 0.5em;">WCEX</h2> 
      <a href="https://www.npmjs.com/package/wcex"><img src="https://img.shields.io/npm/v/wcex.svg?sanitize=true" alt="Version"></a>  
    </div>
    <div slot="subtitle" >Native Responsive Web Components Extensions</div>

    <!-- 工具区 -->
    <div class="column" slot="end" style="width: 8em" :>
      <div class="column" style="justify-content: center">
        <!-- 调色板 -->
        <com-title_tools> </com-title_tools>
        <div style="text-align: center; margin-top: 0.2em" :>${loadtime}ms</div>
      </div>
    </div>
  </wcex-ui.title>

  <script scope="lget" src="lodash.get" nocall></script>
  <script scope=".">
    let _loadtime = 0;
    window.addEventListener("wcex-loaded", (ev) => {
      _loadtime = ev.detail.time;
    });
    return class {
      loadtime = 0;
      desc='';
      async onCreate() {
        this.loadtime = _loadtime;
        // this.$log('lget',this.lget);
        let lang =this.lget(this.$router,'route.default.attrs.lang', 'cn')
        let info = await (await fetch(this.$path(`./guide/${lang}/info.json`))).json();
        this.desc = info.description;
      }
    };
  </script>
</template>
