<template>
  <meta name="scope" drawer.bool="true" cur-page.object="{}" />
  <style>
    :host {
      display: flex;
      flex-direction: column;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    .main {
      display: flex;
      flex: 1;
      overflow: hidden;
    }
    .left {
      background-color: "$$color.bg.l2";
    }
    .content {
      display: flex;
      flex-direction: column;
      flex: 1;
      overflow-x: hidden;
    }
    .content > :first-child {
      flex: 1;
    }
    .doc {
      flex: 1;
    }
  </style>

  <!-- <test-main aa="111"></test-main> -->
  <title- $$drawer="$root.drawer" style="z-index: 99"></title->

  <!-- 主窗口 -->
  <div class="main">
    <!-- 菜单 -->
    <div class="left shadow scroll">
      <nav- $min="!drawer" $$="curPage" $lang="$root.lang"></nav->
    </div>
    <div class="content">
      <wcex-ui.route home="wcex-doc.doc" ></wcex-ui.route>
      <footer-></footer->
    </div>
  </div>

  <script scope=".">
    // 解析lang，获取首页
    var DOC_LANG = "cn";
    location.search.split("&").forEach((p) => {
      let sp = p.split("=");
      if (sp.length == 2 && sp[0] == "lang") {
        DOC_LANG = sp[1];
      }
    });
    console.log('use lang',DOC_LANG);
    return class{
      lang=DOC_LANG
    }
  </script>
</template>
