<!--DESC: {icon:{name:"explore"},id:1} -->

! [スペース] (@/@wcex/doc/assets/logo.svg{width:16em; 身長:6em})

# コンポーネントとWebComponents

コンポーネントはWCEX実装の主な機能であり、各コンポーネントは標準のhtmlファイルであり、標準のネイティブWebComponentとして作成されます。
- コンポーネントは、一意の **\<template\>** タグをルートタグとして使用する必要があります。
- コンポーネントには、標準の HTML コンテンツを含めることができます。
- 標準の WebComponents は適切にカプセル化されているため、CSS、ネーミング、変数のグローバリゼーションの競合について心配する必要はありません。

## コンポーネントの命名
1. コンポーネントの名前は、HTML で使用される Web Components タグの名前です。
2. WebComponents仕様の要件に従い、カスタムコンポーネントのタグ名には「-」が含まれていなければなりません
3.すべてのコンポーネント名は小文字を使用しており、中国語をサポートできます

コンポーネント・タグ名の変換規則:
> - コンポーネントファイル名は小さなこぶで名前を付ける必要があり、コンポーネントに対応するタグ名は分割された単語のアンダースコア(「_」)です。
> - パス区切り文字 "/" は "-" に変換されます。
> - 変換結果に「-」が含まれていない場合は、コンポーネント名の最後に**"-"**を追加します。
> - 各コンポーネントには、プロジェクトまたはプロジェクト内で参照される短い名前と、別のプロジェクトで参照されるパッケージ名を含む完全なラベルの 2 種類のラベルがあります。
> - 長い名前の形式は「パッケージ名」です。 Composition name」では、パッケージ名とコンポーネント名を "." で分割します。
> - パッケージ名に "@abc/def" などの組織名の形式が含まれている場合は、実際に変換されたタグ名から "@" 文字を削除する必要があります

### 短い名前の形式
短い名前の形式は、プロジェクト内のコンポーネントを相互に呼び出したり、メインエントランスプロジェクトでプロジェクトのコンポーネントを呼び出したりする場合によく使用されます。
- コンポーネントの短い名前は通常、ルートディレクトリから始まり、ディレクトリの各レベルは、対応するタグの「-」で区切られた標準のディレクトリ区切り文字に変換されます。
- 現在のパッケージのメインポータルファイル(通常はindex.htmlという名前)をブラウザで開くと、実際のコンポーネントパスは、メインポータルファイルがルートディレクトリとして配置されているディレクトリから始まります
- すべてのコンポーネントパスは下向きにのみ計算できます、つまり、サブディレクトリのパス名のみが計算されます。

#### の例
プロジェクトに次のファイル構造があり、それをローカルの localhost:8080 ポートルートにマウントするとします。
```text
/-
 |-- index.html
 |-- app.html
 |-- component \
 |-------------|-- com1.html
 |-------------|-- com2.html
 |-------------|-- index.html
 |-- test \
 |--------|-- helloWorld.html 
```

ブラウザで __http://localhost:8080/index.html__ にアクセスすると、対応するタグ名は次のようになります。

> **\<app-\>**、**\<component-com1\>**、**\<component-com2\>**、**\<test-hello_world\>**

たとえば、ブラウザーで __http://localhost:8080/components/index.html__ にアクセスすると、対応するタグ名は次のようになります。

> **\<com1-\>**, **\<com2\>**
> - 親ディレクトリと兄弟ディレクトリ内のコンポーネントに短い名前でアクセスできないか、アクセスが必要な場合は長い名前の命名形式が必要です。

### フルネーム (パッケージ名を含む)
フルネームは、他のプロジェクトコンポーネントライブラリパッケージ内のコンポーネントにアクセスするために使用されます。

#### の例
abc と @pkg/ui というパッケージ名の 2 つのプロジェクトがあり、各パッケージに com1.html と com2.html の 2 つのコンポーネントがあるとします。 完全なタグ名は次のとおりです。

- パッケージ:ABC
> **\<abc.com1-\>**, **\<abc.com2-\>**

- パッケージ: @pkg/ui
> **\<pkg-ui.com1\>**、**\<pkg-ui.com2\>**

- 2番目のパッケージでは、名前がすでに名前に含まれているため、末尾に「-」を追加する必要がないことがわかります。

## コンポーネントの実装
コンポーネント実装ファイルは標準のHTMLファイルであり、共通の構造は次のとおりです。

<div><wcex-doc.com-playground files="['component/index.html','component/app.html','component/com.html','component/com.ts']"></wcex-doc.com-playground></div>

### コンポーネントのプロパティ
- コンポーネントは独自の props を定義でき、コンポーネントの使用時に外部からパラメーターを渡すために使用できます
- コンポーネントプロパティには型修飾子を追加でき、型修飾子は **bool**、**int**、**float**、**obj**、**array**、**string** 型、既定値は "string" をサポートします。 
- コンポーネントにvalueプロパティが定義されている場合、標準の__input__コンポーネントと同様に動作し、**$$**を介して双方向にバインドできます。
- デフォルトのコンポーネントプロパティは、変換にStringを使用して渡され、$修飾子を使用して値渡しモードを使用すると、$props式を使用して初期デフォルトを計算できます

### コンポーネントデータ
- 内部変数は \<meta name="scope" \> タグで設定でき、型修飾子もサポートします。
- script タグを使用して、コンポーネント変数とメソッドを作成するためのクラスを導入することもできます
- prop と meta[scope] と script で定義されたすべての変数またはメソッドは、コンポーネントのデータバインディングで直接使用できます
- スコープクラスはコンポーネント内のscriptタグでインポートできるため、タグのsrc属性は「.」であり、現在のコンポーネントと同じ名前のjsまたはtsが導入されることを意味します
- TypeScriptファイルを使用する場合、完全な構文ヒントやその他の情報を取得でき、サードパーティのライブラリを直接インポートできます。
