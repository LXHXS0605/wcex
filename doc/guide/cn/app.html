<template>
  <link rel="stylesheet" href="@/@fontsource/akaya-kanadaka/index.min.css" global="link" />
  <link rel="stylesheet" href="@/@wc1font/honglei-sim/font.css" global="link" />
  <link rel="stylesheet" href="." global="import" />

  <meta name="scope" shadow.int="1" drawer.bool="true">
  <style>
    :host {
      display: flex;
      flex-direction: column;
    }
  </style>

  <wcex-ui.title shadow="4" $$drawer="$rootScope.drawer">
    WCEX - 原生 Web Components 扩展库
  </wcex-ui.title>
  <h1 $>drawer</h1>
  <!-- 顶部标题 -->
  <h1>Hello 中文</h1>
  <h2>Hello 中文</h2>
  <h3>Hello 中文</h3>
  <h4>Hello 中文</h4>

  <h5>Hello 中文</h5>
  <h6>Hello 中文</h6>
  <div  :class="shadow${shadow} trans" @click="shadow=shadow==1?4:1" :style="transform:translate(1px, ${-shadow/2}px);" >
    <span>OKOK</span>
    <h3>OK</h3>
    ok
    <div>Hello 中文</div>
    <div1>Hello 中文</div1>

  </div>

  
  <script scope=".">
    return class {
      // 动态设置字体
      onCreate() {
        this.loadFont()
      }
      loadFont() {
        var font = {
          cn: { css: "@/@wc1font/honglei-sim/font.css", family: "honglei sim" },
          en: { css: "@/@fontsource/akaya-kanadaka/index.min.css", family: "Akaya Kanadaka" },
        };
        if (localStorage.__FONT) {
          try {
            font = JSON.parse(localStorage.__FONT);
          } catch (e) {
            this.$log("invalid font config:", e.message);
          }
        }

        var family = "Arial, Helvetica, sans-serif";
        Object.values(font).forEach((v) => {
          var link = document.createElement("link");
          link.rel = "stylesheet";
          link.href = this.$path(v.css);
          document.head.appendChild(link);
          family = v.family + ", " + family;
        });
        document.body.parentElement.style.fontFamily = family;
      }
    };
  </script>
</template>
