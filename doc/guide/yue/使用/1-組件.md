<!--DESC: {icon:{name:"explore"},id:1} -->

! [img] (@/@wcex/doc/assets/logo.svg{width:16em; height:6em})

# 組件同WebComponents

組件係WCEX實現嘅主要功能，每個組件都係一個標準嘅 html文件，並被創建為一個標準嘅原生**WebComponent**。
- 組件需要使用唯一嘅**\<template\>**標籤作為根標籤。
- 組件內可包含標準嘅html內容。
- 由於標準嘅WebComponents良好嘅封裝性，你可以不必擔心CSS，呢個命名以及變量嘅全球化衝突問題。

## 組件嘅命名
1.組件嘅名稱即html中所使用嘅**Web Components**標籤嘅名稱
2.依據WebComponents規範的要求，自定義組件的標籤名必須包含“-”
3.所有組件名稱使用小寫字母，可以支持中文

組件標籤名轉換規則：
> -組件文件名稱須使用**小駝峰**命名，對應到組件嘅標籤名為為**下劃線（“_”）**為分割嘅單詞。
> -路徑分隔符“/”將被轉換為“-”。
> -如轉換後的結果不包含“-”，則需在組件名稱的最末尾加上**“-”**。
> -每個組件所對應嘅標籤有兩種，分別係喺工程或項目內部所引用嘅短名稱同其他項目中引用嘅包含包名嘅完整標籤。
> -長名稱格式為“包名。 組建名稱“，以”.“分割包名和組件名。
> -如包名為包含組織名稱嘅格式，如“@abc/def”，則實際轉換出嘅標籤名中需去除“@”字符

### 短名稱格式
短名稱格式常用於一個項目內部嘅組件之間相互調用，抑或主入口項目中調用本項目嘅組件。
- 組件嘅短名稱通常以根目錄為起點，每一級目錄都將被轉換為標準嘅目錄分隔符，對應嘅標籤中以“-”作為分割。
- 如果你喺瀏覽器打開嘅係當前包主入口文件（通常嘅名稱係index.html），則實際組件路徑以主入口文件所在嘅目錄作為根目錄開始計算
- 所有組件路徑只能向下進行計算，即僅計算子目錄路徑名。

#### 示例
假定你嘅項目具備如下的文件結構，並掛載到本地localhost：8080端口根目錄：
```text
/-
 |-- index.html
 |-- app.html
 |-- component \
 |-------------|-- com1.html
 |-------------|-- com2.html
 |-------------|-- index.html
 |-- test \
 |--------|-- helloWorld.html 
```

則当你喺瀏覽器中訪問：__http://localhost:8080/index.html__時，對應嘅標籤名如下：

> **\<app-\>**, **\<component-com1\>**, **\<component-com2\>**, **\<test-hello_world\>**

如当你喺瀏覽器中訪問：__http://localhost:8080/components/index.html__時，對應嘅標籤名如下：

> **\<com1-\>**, **\<com2\>**
> -其父目錄同同級目錄中組件無法使用短名稱進行訪問，如必須訪問則需要長名稱命名格式。

### 完整名稱（包含包名）
完整名稱用于訪問其他項目組件庫包中嘅組件。

#### 示例
假定你擁有兩個項目，其包名分別為：abc同@pkg/ui，每個包裝都擁有兩個組件，分別係com1.html同com2.html。 則其完整標籤名如下：

- 包：abc
>  **\<abc.com1-\>**, **\<abc.com2-\>**

- 包：@pkg/ui
>  **\<pkg-ui.com1\>**, **\<pkg-ui.com2\>**

- 你可以睇到喺第2个包中，由於名稱中有包含“-”，則無需喺最後附加“-”。

## 組件嘅實現
組件實現文件係一個標準HTML文件，常見結構如下：

<div><wcex-doc.com-playground files="['component/index.html','component/app.html','component/com.html','component/com.ts']"></wcex-doc.com-playground></div>

### 組件屬性
- 組件可以定義自身嘅屬性（ props ），定義嘅屬性可以用于外部使用組件時進行傳參
- 組件屬性可附加類型修飾符，類型修飾符支持： **bool**，**int**，**float**，**obj**，**array**，**string**類型，默認為“string” 
- 當一個組件定義了value屬性時，它就具備了和標準__input__組件類似的行為，可透過**$$**進行雙向綁定
- 默認組件屬性使用**字符串**進行轉換傳遞，可使用**$**修飾符使用值傳遞模式，此時**$props**將可以使用表達式進行計算初始默認值

### 組件數據
- 可透過\<meta name=“scope”\>標籤設置內部變量，同樣支持類型修飾符
- 也可使用**script**標籤引入類，創建組件變量和方法
- 所有**prop**同**meta[scope]**以及**script**方式定義嘅變量抑或方法均可喺組件數據绑定時直接使用
- 組件中使用**script**標籤可導入作用域類，如此標籤**src**屬性為“.”，則代表引入當前組件同名的js或者ts
- 当使用typescript文件時，你可得到完整嘅語法提示等信息，可直接導入第三方庫，具體規則請參與後續章節
