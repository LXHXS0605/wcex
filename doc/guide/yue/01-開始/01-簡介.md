<!--DESC: {"icon":"explore"} -->
<p align="center"><svg width=8em src="/logo.svg" ></svg></p>

# 歡迎來到Web Components嘅世界

WCEX係一個快速實現**Web Components**嘅**擴展庫**，能快速和高效嘅進行開發WEB前端頁面

- **現代的框架特性**：WCEX也實現了目前許多現代Web前端框架的特性，如數據綁定，依賴更新、路由、開發熱加載...。
- **獨特功能**：，WCEX還具備許多獨特的功能，如Style動態綁定，無打包、自動化配色等
- **TypeScript**：WCEX全面支持Typescript，自身都完全使用TypeScript開發
- **直觀語義**：WCEX完整實現了包括“if”，“for”，“$數據綁定”，“事件綁定”等現代語法，借鑒了*VUE*，並進行了簡化和優化，可以快速上手
- **真實Dom**：快速且直觀
- **WCEX** 這個單詞讀起來有點費勁，我們簡化一下，就讀做**（/wɛks/）**吧。
- ... 參考後續章節來繼續了解

## 簡單

WCEX的設計理念就是“**簡單**”、“**簡潔**”、“**簡化**”，簡化產品開發各個環節，包括開發、調試、測試、發布等，以及後續的版本升級迭代。
為使用者提供高效嘅直觀體驗，呢個理念都能喺WCEX嘅各個功能啲同使用方式中得到體現。

> 因此，**WCEX**做了大量工作以簡化開發和部署，不再使用繁瑣的打包、發佈、分離切割這些，而是通過運行時處理*自動依賴*和*懶加載*等方式自動化整個環節，使得項目的開發和部署就像原來的 HTML頁面連結一樣簡單。 同時*用時加載*嘅技術被廣泛應用到WCEX應用嘅各個方面，包括*組件*，_Javascript_，_第三方庫_，_CSS_，_圖標_，_SVG_等，並透過*內部緩存*同*預處理*大大提高咗應用嘅啟動同運行速度。

### 完全組件化

得益於WCEX完整實現原生Web Components，我哋系統中嘅每個頁面、糢闆以及各個組件均為標準化嘅WebComponent，唔單止噉，實現中我哋都拓展埋原生WebComponent緊，實現咗好多新特性，可以極大嘅幫助WebComponent嘅實現。 以下係幾個有趣嘅功能：

#### 動態標籤解析和加載

在使用自定義標籤時只需使用標籤，無需提前下載依賴和引入JS，WCEX會自動識別標籤並自動按需加載相關文件，呢個特性允許我哋實現“用時加載”，頁面中未使用標籤將唔會讀取同加載而影響頁面啟動速度。 下面是一個簡單的例子，也是本文檔顯示項目中一個功能組件，你可以很容易找到，參考代碼如下：
- _/doc/doc.html_
- 實現markdown文檔預覽
```html
<template url="">
  <style>
    :host {
      display: flex;
      flex-direction: column;
    }
    .title{
      padding: 0.5em;
      background-color: "$$color.bgr.a9_";
    }
  </style>
  <div class="title" $>url</div>
  <wcex-ui.marked 
    style="padding: 1em;" 
    $src="($root.url)?$path('guide/cn/'+$root.url):''"
    >
  </wcex-ui.marked>
</template>
```

> 可以看到，_\<wcex-ui.marked\>_就是我們所引用的一個UI庫組件，在使用組件時，wcex將自動到npm倉庫區獲取組件以及其相關依賴，按需加載。 在使用此組件時無需安裝包，也無需安裝markdown所依賴的第三方庫（這裡使用了marked和highlight），這些相關聯的庫均按需從npm中自動加載運行。 當然，都能透過好簡單嘅方法嚟畀WCEX由本地相關目錄中加載依賴包。 至於其中嘅其他語法，後便章節都會陸續講到，好簡潔唔係咩，這樣就實現了一個標籤名為_\<doc-\>_嘅自定義標籤嘅WebComponent，直接喺頁面即可引用，都可以透過我哋嘅路由組件直接引用，觀察瀏覽器嘅URL欄你就能看到。 </doc-\></wcex-ui.marked\>

#### 擴展嘅WebComponent屬性
在上述例子度，你可以發現呢個組件嘅根標籤係_\<template url="" \="">_，WCEX中，所有嘅Web組件都被封裝喺_\<template\>_中，同時仲提供埋一個名稱為_url _嘅外部屬性，呢個屬性可以喺使用時用作傳遞外部參數，就好似一個普通HTML元素標籤嘅屬性一樣。 在組件內部，都可以好方便嘅直接引用此參數。 </template\></template>


#### 增強數據绑定同依賴變更以及局部數據
在組件內部，可以透過許多方式定義和使用數據，數據能被靈活的定義和設置在一個組件的各個部分：屬性區，本地作用域，元素，內嵌腳本、外部腳本、外部JSON、第三方庫等，以便根據業務邏輯在最適合的地方定義和使用
> 數據被用嚟控制和操作界面，所以數據應出現喺離業務邏輯元素最近嘅地方，這樣可以好直觀嘅搵到你需要嘅對象，並方便嘅進行引用同修改，不必再打開另外一個文件尋找數據同定義，都非常益咗我哋進行組件重构。 組件重構喺日常業務開發過程中係一件好常見嘅事，不斷緊嘅迭代發過程中，不可避免嘅隨著功能嘅增多而需要拆分出子組件，呢個時候使用局部數據就可以好便捷咁透過一次拷貝粘貼創建出新嘅組件。

### 動態引用
我哋希望所有嘅引用庫，CSS、組件等數據都能夠係動態嘅，可以直接由靜態嘅CDN中進行引用。 這樣就可以避免安裝包，升級版本等一些複雜嘅過程。 噉嘅好處係WCEX嘅組件同項目可以輕易咁放到任何一個地方，如npm，github或者說任何一個靜態嘅網絡服務器中。 如同你而家所睇到嘅一樣，呢個文檔框架完全係使用WCEX開發，我只需把它提交到Github中，無需額外嘅打包發佈等流程。 即可實時睇到效果。 任何一個組件包，只需提交到npm，其他項目中均可直接引用。 甚至你所需要的第三方庫，都直接引用npm源，無需單獨安裝。

> 我哋都知道。 JavaScript同WEB前端嘅世界係複雜嘅，為此我哋做咗大量嘅兼容工作。 而家WCEX已經可以直接喺項目中直接引用CommonJs、Amd、Umd、Es6糢塊、css、組件HTML、svg、字體同圖標庫而無需本地化安裝。 甚至当使用Typescript時，WCEX都能夠正確地處理和識別TS import，並轉換為動態依賴。 呢啲依賴係_懶加载_嘅。 並且能夠正確處理關聯嘅多級依賴。 這樣一來，我哋就能夠好方便咁透過CDN直接靜態化運行提交到npm上嘅項目，而無需做更多嘅工作。 同時版本化嘅撐，都使得升級變得易如反掌。

### 用時加載和依賴運行
WCEX嘅動態特性體現喺好多方面，唔單止係喺加載時，都包括喺運行時。 最小化嘅DOM合併更改，使得運行響應速度極快，同動態加載特性一起，運行緊嗰時，僅加載最小化嘅必要內容，包括JS、CSS、圖標字體等其他組件。 梗係我哋都可以手動配置某些組件抑或腳本進行提前預加載。

## 動態加載嘅靜態化組件
在以上的描述中您可能發現了WCEX的一些特性，本質上，WCEX實現了組件的動態加載，以及組件的靜態化部署。 這樣一來我們的組件，就能像最早期的HTML頁面一樣，可以簡單的開發和使用。 並且能夠非常輕鬆進行靜態化管理，可以好輕鬆使用和部署到各個場景，如CDN，NPM、本機甚至係移動化設備上。

## 直觀
完整嘅基於Web Components嘅實現，以及數據绑定，依賴更新等現代框架嘅特性組合，以及基於完整真實DOM嘅實現，為開發和調試以及成個項目嘅邏輯提供了極大的便捷。 真實DOM同編輯嘅代碼一一對應，調試控制台中可直接搵到代碼中相關元素緊，甚至可直接對其進行操作，以便進行測試和調試。 呢個功能遠比。 其他框架需要安裝嘅瀏覽器插件要強大好多。 透過調試控制台，可以直接更改數據發送事件，觀察屬性嘅變化以及深入到組件內部。 甚至進行斷點和跟蹤。 一切都係直觀嘅。

## 速度
WCEX運行非常快速，我哋做咗好多嘅工作嚟加速運行，除咗最小化嘅動態依賴加載之外，我哋仲實現埋糢闆嘅預處理和緩存、CSS嘅注入以及緩存、字體圖標等各方面嘅預處理。
> 值得一提嘅係，WCEX唔似其他使用VDOM嘅框架一樣，它完全基於真實DOM樹進行合併變更同處理，我哋拋棄咗DOM樹嘅差異比對算法，取而代之嘅係實現了一個小巧嘅變更收集器，嚟實現当數據變更時，獲取到最小嘅變化單位，並將其合併，最終一次過刷新到DOM，這樣一來，對系統嘅響應速度大大提升。

## 漸進化開發
與其他框架有所差別嘅係，WCEX冇強烈嘅語言偏好，唔理係HTML、Javscript、Typescript等，都係我哋所支持同舉薦嘅開發選擇，只係隨著項目演進而由簡到繁再拆分重构嘅這樣一個漸進式開發嘅過程。 喺呢個過程中，遵循**好貓**理念，快速實現，精簡邏輯以及便捷嘅迭代升級。

> 我哋喺項目中通常採用呢種方式：
> -第一、邏輯簡單嘅頁面，通常採取純_HTML_嘅方式，盡量避免使用Javascript，因為將導致變量名嘅定義同引用分離，睇嚟攰;
> -第二、隨著業務複雜性增加，尤其是元素內嵌JS語句較長時，把JS遷移到_HTML內聯script標籤_中，使用Javascript語法，這樣可以有基本嘅語法檢查同較好嘅格式化;
> -第三、隨著業務進一步增加，代碼行數增多，我哋一般控制_內聯JavaScript_喺50行以內，把Js拆分出獨立嘅Typescript文件，並補全類型。 喺_WCEX_嘅支持下，呢項工作會好易;
> -最後、組件進一步龐大，呢個時候就要進行組件獨立拆分



## 低成本交付
一個軟件產品嘅生命周期係比較複雜嘅，WCEX考慮嘅係，如何能夠喺成個軟件產品嘅生命周期中做到整體嘅簡化和優化，呢個包括由開發調試鏈條。 測試部署發佈，以及後續嘅一次次嘅變更。 版本迭代等眾多嘅環節。 優化和簡化呢啲環節。 可以大大嘅提升我哋開發嘅效率。 從而降低成個軟件開發周期嘅成本。 因此，我哋設計嘅好多特性都係同呢啲相關。 喺後續嘅章節入便。 你可能你將會睇到喺各個環節中嘅一些有趣嘅應用。
> 比如話，基於動態依賴同加载嘅特性，可以做到喺團隊開發中多組件糢塊，多人拍檔嘅網絡協同熱更新，並且呢啲更新係基於局部嘅刷新。 每個人嘅更改都能實時反映到你嘅實時預覽中

> 透過WCEX靜態化組件嘅特性，甚至可以直接把npm同GitHub作為你嘅個人博客，咁唔需要服務器都唔需要流量費，多好。

> 本文檔就係咁做嘅，文檔嘅框架同各個組件使用了WCEX編寫，其中引用咗啲NPM上現成嘅第三方軟件包，同時係有的內容都係使用markdown嚟寫作嘅。 最終直接發佈到了NPM，透過公共免費嘅CDN，就係而家可以睇到嘅咁。

## 其他
在右上角有個小按鈕，可以體驗到WCEX _語義化實時配色_的特性，選擇您喜歡的顏色吧。

另外，您可以看到本文檔使用了特別的中文字體，WCEX也實現了中文大字體的用時加載。 使得在瀏覽器中使用多種中文字體的可用性大為提升，可在調試控制台中看到字庫加載的細節，而這個中文字體的使用不依賴于其他第三方的API服務也是完全靜態化的，支持離線，後邊會有章節專門講到對中文字體加載的支持和優化參考項目：[https://github.com/wc-ex/cn-fontsource]（ https://github.com/wc-ex/cn-fontsource)
