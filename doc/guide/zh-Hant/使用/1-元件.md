<!--DESC: {icon:{name:"explore"},id:1} -->

! [img] (@/@wcex/doc/assets/logo.svg{width:16em; height:6em})

# 元件和 WebComponents

元件是 WCEX 實現的主要功能，每個元件都是一個標準的 html 檔，並被創建為一個標準的原生 **WebComponent** 。
- 元件需要使用唯一的 **\<template\>** 標籤作為根標籤。
- 元件內可包含標準的html內容.
- 由於標準的 WebComponents 良好的封裝性，你可以不必擔心CSS，這個命名以及變數的全球化衝突問題。

## 元件的命名
1. 元件的名稱即html中所使用的 **Web Components** 標籤的名稱
2. 依據WebComponents 規範的要求，自定義元件的標籤名必須包含“-”
3. 所有元件名稱使用小寫字母，可以支援中文

元件標籤名轉換規則：
> - 元件檔名稱須使用 **小駝峰** 命名， 對應到元件的標籤名為為 **下劃線（“_”）** 為分割的單詞。
> - 路徑分隔符 “/” 將被轉換為“-”。
> - 如轉換後的結果不包含 「-」 則需在元件名稱的最末尾加上 **“-”** 。
> - 每個元件所對應的標籤有兩種，分別是在工程或項目內部所引用的短名稱和其他專案中引用的包含包名的完整標籤。
> - 長名稱格式為 「包名. 組建名稱“， 以 ”.“ 分割包名和元件名。
> - 如包名為包含組織名稱的格式， 如 「@abc/def」。 則實際轉換出的標籤名中需去除“ @”字元

### 短名稱格式
短名稱格式常用於一個項目內部的元件之間相互調用，或者主入口專案中調用本專案的元件。
- 元件的短名稱通常以根目錄為起點，每一級目錄都將被轉換為標準的目錄分隔符，對應的標籤中以“-”作為分割 。
- 如果你在瀏覽器打開的是目前的套件主入口檔（通常名稱是index.html）， 則實際元件路徑以主入口檔案所在的目錄作為根目錄開始計算
- 所有元件路徑只能向下進行計算，即僅計算子目錄路徑名。

#### 範例
假定你的項目具備如下的文件結構， 並掛載到本地 localhost：8080 埠根目錄：
```text
/-
 |-- index.html
 |-- app.html
 |-- component \
 |-------------|-- com1.html
 |-------------|-- com2.html
 |-------------|-- index.html
 |-- test \
 |--------|-- helloWorld.html 
```

則當你在瀏覽器中訪問： __http://localhost:8080/index.html__ 時，對應的標籤名如下：

> **\<app-\>**, **\<component-com1\>**, **\<component-com2\>**, **\<test-hello_world\>**

如當你在瀏覽器中訪問： __http://localhost:8080/components/index.html__ 時，對應的標籤名如下：

> **\<com1-\>**, **\<com2\>**
> - 其父目錄和同級目錄中元件無法使用短名稱進行訪問，如必須訪問則需要長名稱命名格式。

### 完整名稱（包含包名）
完整名稱用於訪問其他專案元件庫包中的元件。

#### 範例
假定你擁有兩個專案，其包名分別為： abc 和 @pkg/ui， 每個包裝都擁有兩個元件，分別是 com1.html 和 com2.html。 則其完整標籤名如下：

- 包： abc
>  **\<abc.com1-\>**, **\<abc.com2-\>**

- 包： @pkg/ui
>  **\<pkg-ui.com1\>**, **\<pkg-ui.com2\>**

- 你可以看到在第2個包中，由於名稱中已經包含了 “-” ，則無需在最後附加 “-”。

## 元件的實現
元件實現檔是一個標準HTML檔，常見結構如下：

<div><wcex-doc.com-playground files="['component/index.html','component/app.html','component/com.html','component/com.ts']"></wcex-doc.com-playground></div>

### 元件屬性
- 元件可以定義自身的屬性（props）， 定義的屬性可以用於外部使用元件時進行傳參
- 元件屬性可附加類型修飾符，類型修飾符支援： **bool**， **int**，**float**，**obj**，**array**，**string** 類型， 預設為 “string” 
- 當一個元件定義了value屬性時，它就具備了和標準 __input__ 元件類似的行為，可通過 **$$** 進行雙向綁定
- 預設元件屬性使用 **字串** 進行轉換傳遞，可使用 **$** 修飾符使用值傳遞模式，此時 **$props** 將可以使用表達式進行計算初始預設值

### 元件數據
- 可通過 \<meta name=“scope” \> 標籤設置內部變數，同樣支持類型修飾符
- 也可使用 **script** 標籤引入類， 建立元件變數和方法
- 所有 **prop** 和 **meta[scope]** 以及 **script** 方式定義的變數或者方法均可在元件數據綁定時直接使用
- 元件中使用 **script** 標籤可導入作用域類，如此標籤 **src** 屬性為 “.”，則代表引入當前元件同名的js或者ts
- 當使用 typescript 檔時，您可得到完整的語法提示等資訊，可直接導入第三方庫，具體規則請參與後續章節
