<!--DESC: {icon:{name:"explore"},id:1} -->

! [рис.] (@/@wcex/doc/assets/logo.svg{width:16em; высота:6em})

# Компоненты и WebComponents

Компоненты являются основным функционалом реализаций WCEX, каждый компонент представляет собой стандартный html-файл и создается как стандартный нативный WebComponent.
- Компонент должен использовать уникальный тег **\<template\>** в качестве корневого тега.
- Компоненты могут содержать стандартный HTML-контент.
- Благодаря хорошей инкапсуляции стандартных WebComponents, вам не нужно беспокоиться о конфликтах CSS, имен и переменной глобализации.

## Именование компонента
1. Имя компонента - это имя тега Web Components, используемого в html
2. Согласно требованиям спецификации WebComponents, имя тега пользовательского компонента должно содержать "-"
3. Во всех именах компонентов используются строчные буквы, что может поддерживать китайский язык.

Правила преобразования имен марок компонентов:
> - Имя файла компонента должно быть названо с маленьким горбом, а имя тега, соответствующее компоненту, является подчеркиванием ("_") для разделенного слова.
> - Разделитель пути "/" будет преобразован в "-".
> - Если преобразованный результат не содержит "-", добавьте **"-"** в самый конец имени компонента.
> - Существует два типа меток для каждого компонента: короткое имя, на которое ссылается проект или проект, и полная метка, содержащая имя пакета, на которое ссылается другой проект.
> - Формат длинного имени - "Имя пакета. Имя композиции", разделите имя пакета и имя компонента с помощью "."
> - Если имя пакета содержит формат имени организации, например "@abc/def", символ "@" должен быть удален из фактического преобразованного имени тега

### Формат короткого имени
Формат короткого имени часто используется для вызова компонентов в проекте друг к другу или для вызова компонентов проекта в проекте главного входа.
- Короткое имя компонента обычно начинается с корневого каталога, и каждый уровень каталога преобразуется в стандартный разделитель каталогов, разделенный знаком "-" в соответствующем теге.
- Если вы откроете текущий файл основного портала пакета (обычно называемый index.html) в браузере, фактический путь к компоненту начинается с каталога, в котором находится основной файл портала, в качестве корневого каталога
- Все пути к компонентам могут быть вычислены только по уменьшению, то есть вычисляются только пути к подкаталогам.

Пример ####
Предположим, что ваш проект имеет следующую файловую структуру и монтирует его в локальный корневой порт localhost:8080:
```text
/-
 |-- index.html
 |-- app.html
 |-- component \
 |-------------|-- com1.html
 |-------------|-- com2.html
 |-------------|-- index.html
 |-- test \
 |--------|-- helloWorld.html 
```

Когда вы посещаете: __http://localhost:8080/index.html__ в браузере, соответствующие имена тегов выглядят следующим образом:

> **\<app-\>**, **\<component-com1\>**, **\<component-com2\>**, **\<test-hello_world\>**

Например, когда вы посещаете: __http://localhost:8080/components/index.html__ в браузере, соответствующее имя тега выглядит следующим образом:

> **\<com1-\>**, **\<com2\>**
> —Доступ к компонентам в их родительских и одноуровневых каталогах невозможен с короткими именами, или если требуется доступ, требуются длинные форматы имен.

### Полное имя (включая имя пакета)
Полное имя используется для доступа к компонентам в других пакетах библиотеки компонентов проекта.

Пример ####
Допустим, у вас есть два проекта с именами пакетов: abc и @pkg/ui, и каждый пакет имеет два компонента, com1.html и com2.html. Полное имя тега выглядит следующим образом:

- Пакет: ABC
> **\<abc.com1-\>**, **\<abc.com2-\>**

- Пакет: @pkg/ui
> **\<pkg-ui.com1\>**, **\<pkg-ui.com2\>**

- Вы можете видеть, что во 2-м пакете нет необходимости добавлять "-" в конце, так как имя уже включено в имя.

## Реализация компонентов
Файл реализации компонента представляет собой стандартный HTML-файл, а его общая структура выглядит следующим образом:

<div><wcex-doc.com-playground files="['component/index.html','component/app.html','component/com.html','component/com.ts']"></wcex-doc.com-playground></div>

### Свойства компонента
- Компоненты могут определять свои собственные входные параметры, которые могут быть использованы извне для передачи параметров при использовании компонента
- Свойства компонента могут быть дополнены модификаторами типа, поддержка модификаторов типа: **bool**, **int**,**float**,*obj**,**array**, **string**, по умолчанию "string" 
- Когда компонент имеет определенное свойство value, он ведет себя аналогично стандартному компоненту __input__ и может быть привязан в двух направлениях через **$$**
- Свойства компонента по умолчанию передаются с помощью String для преобразования, а модификатор $ может быть использован для использования режима передачи значения, после чего $props сможет использовать выражение для вычисления начального значения по умолчанию

### Данные о компонентах
- Внутренние переменные могут быть установлены с помощью тега \<meta name="scope" \>, который также поддерживает модификаторы типа
- Вы также можете использовать тег script для введения классов для создания переменных и методов компонента
- Все переменные или методы, определенные в prop и meta[scope] и скрипте, могут быть использованы непосредственно в связывании данных компонента
- Класс scope может быть импортирован с тегом script в компоненте, поэтому атрибут src тега равен ".", что означает, что вводится js или ts с тем же именем, что и у текущего компонента
- При использовании файлов TypeScript вы можете получить полные синтаксические подсказки и другую информацию, а также напрямую импортировать сторонние библиотеки, конкретные правила см. в следующем разделе
