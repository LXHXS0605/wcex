<!-- 封装 echarts -->
<template $option="{}" @timer.2000="abc.a++">
    <meta name="module" pkg="echarts" content="dist/echarts.min.js">

    <style>
        :host {
            display: block;
        }

        #echarts {
            width: 100%;
            height: 100%;
        }
    </style>
    <div $>abc.a</div>
    <!-- <div2 $>$json(option)</div2> -->
    <div id="echarts"></div>

    <script scope="echarts" src="echarts" nowatch nocall></script>
    <script scope=".">
        return class {
            instance = {}
            option={}
            abc={a:99}
            onReady() {
                this.instance = this.$noWatch(this.echarts.init(this.$id.echarts));
                this.instance.setOption(this.option);  // 
                this.$watch(() => this.option.series.data, () => {
                    console.log("!!!! ECHATS SET OPTION")
                    this.instance.setOption(this.option)
                });
                this.$watch(()=>this.abc,()=>{
                    console.log("!!!! WATCH abc")

                })
            }
        }
    </script>

</template>