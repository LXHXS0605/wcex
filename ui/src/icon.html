<!--!!
  通用SVG图标组件,支持NPM 标准SVG图标库，内置支持 **material-design-icons**, **fortawesome**, **svg-icons**,
  - 使用标准图标库时, pkg属性可使用简称, 默认使用 "md",,
  - 可自定义其他NPM svg 图标库引用，此时需设置pkg参数为npm的完整包名。
  - 可使用url参数直接指定需引用svg图标的完整地址  
  - [图标列表](https://fontawesome.com/search?o=r&m=free)
  - **md** [@material-design-icons/svg](https://www.npmjs.com/package/@material-design-icons/svg), 类型:filled, outlined, round,sharp,two-tone, 
  - **fa** [@fortawesome/fontawesome-free](https://www.npmjs.com/package/@fortawesome/fontawesome-free), 类型: brands, regular, solid
  - **si** [@svg-icons](https://www.npmjs.com/org/svg-icons), 类型: bootstrap, boxicons-logos, boxicons-regular,boxicons-solid,crypto,entypo,entypo-social...

  @prop pkg  type **类型:string** **默认:mdi**  NPM SVG 图标库名称, 内置简写: 'mdi', 'fa', 'si' 等图标库，支持其他svg图标库
  @prop type **类型:string** **默认:filled** 图标类型, 映射到图标库中的子目录
  @prop icon **类型:string** **默认:circle** 图标文件名称, 不包含扩展名 ".svg"
  @prop size **类型:number** **默认:1.5** 图标大小, 单位: em
  @prop url **类型:string** **默认:""** 图标文件指定URL, 指定此项内容将取代 pkg,type,icon 的设置
  @prop active  **类型:bool** **默认:false** 是否为活动图标，如为活动状态，则允许类似按钮行为，并发送点击事件
  @prop color  **类型: $对象** **默认:$color.pri** 图标颜色，支持$color配色对象，也支持 rgb,#aabbcd等直接颜色，不支持 "red,green"等名称色.


  @slot default 缺省插槽
-->
<template
  size.float="1.5"
  pkg="mdi"
  icon="circle"
  $type="{mdi:'filled',fa:'solid',si:'octicons'}[pkg]"
  url=""
  active.bool="0"
  $color="$color.pri"
  $tabindex="active?0:-1"
  class="trans"
>
  <meta name="scope" />

  <style id="hostStyle">
    :host {
      display: block;
      /* height: ":${size}em";
      width: ":${size}em"; */
      text-orientation: unset;
      writing-mode: unset;
      user-select: none;
      border-radius: 25%;
      box-sizing: border-box;
      pointer-events: "$active?'unset':'none'";

      padding-top: 0.1em;
      padding-left: 0.1em;
      --grow: 0 !important;
    }
    :host(:active) {
      --grow: 3 !important;
    }

    .icon:hover {
      fill: '$active?color.l3_:"inherit"';
    }

    .icon:active {
      fill: '$active?color.l1:"inherit"';
    }

    .icon {
      /* width: ":${size}em";
      height: ":${size}em"; */
      fill: "$color";
      transition: all 0.3s;
    }
  </style>
  <svg class="icon" :width="${size}em" :height="${size}em" $src="srcPath()"></svg>
  <script scope=".">
    return class {
      srcPath() {
        return this.url||(
          "@/" +
          ({ fa: "@fortawesome/fontawesome-free/svgs", mdi: "@material-design-icons/svg", si: "@svg-icons/" }[this.pkg] || this.pkg) +
          "/" +
          this.type +
          "/" +
          (this.icon || "circle") +
          ".svg"
        );
      }
    };
  </script>
</template>
