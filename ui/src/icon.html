<!-- 
    通用图标组件,支持SVG图标
    参考:

    MDI:https://marella.me/material-design-icons/demo/svg/
    FA: https://fontawesome.com/search?o=r&m=free&f=classic%2Cbrands
    @fortawesome/fontawesome-free
    SI
    @svg-icons/octicons
    
-->
<template
  size.float="1.5"
  pkg="mdi"
  icon="circle"
  $type="{mdi:'filled',fa:'solid',si:'octicons'}[pkg]"
  url=""
  active.bool="0"
  $color="$color.pri"
  $tabindex="active?0:-1"
  class="grow trans"
  flaged.bool="0"
>
  <meta name="scope" />
  <style id="hostStyle">
    :host {
      display: block;
      position: relative;
      height: ":${size}em";
      width: ":${size}em";
      text-orientation: unset;
      writing-mode: unset;
      user-select: none;
      border-radius: 25%;
      box-sizing: border-box;
      border-bottom: "$flaged?'3px':'0px'" solid "$color.h2_.a5_";
      pointer-events: "$active?'unset':'none'";
      
      --grow-level:0 !important;
    } 
    :host(:active){
      --grow-level:3 !important;
    }


    /* :host(:hover) {
      box-shadow: 0px 0px 2px 0px '$color.l5_';
    } */
    .icon:hover {
      fill: '$active?color.l3_:"inherit"';
    }

    .icon:active {
      fill: '$active?color.l1:"inherit"';
    }

    .icon {
      width: ":${size}em";
      height: ":${size}em";
      fill: "$color";
      transition: all 0.3s;
    }
  </style>
  <svg class="icon" $src="srcPath()"></svg>
  <script scope=".">
    return class {

      srcPath() {
        return (
          "@/" +
          ({ fa: "@fortawesome/fontawesome-free/svgs", mdi: "@material-design-icons/svg" ,si:'@svg-icons/'}[this.pkg] || this.pkg) +
          "/" +
          this.type +
          "/" +
          this.icon +
          ".svg"
        );
      }
    };
  </script>
</template>
