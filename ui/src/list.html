<!-- 
    创建一个菜单列表，支持选中、高亮、多选等操作
    type: [radio | checkbox]
 -->

<template type="radio" $items="3" $color="$color.pri" value.obj="{}" flag-icon="check_circle_outline">
  <style>
    :host {
      display: flex;
      flex-direction: column;
    }

    .item {
      display: flex;
      align-items: center;
    }
    .item[checked] {
      color: "$color.l5";
      background-color: "$$color.bg.a6_";
    }
    ::slotted(*) {
      flex: 1;
      border-left: 0 solid "$color.ss(70).ll(50)";
      padding-left: 0.5em;
      transition: all 0.25s ease-out;
    }
    .item[checked] > ::slotted(*) {
      border-left: 0.5em solid "$color.h5.ss(50).ll(50)";
    }
  </style>
  <div $if="type=='radio'">
    <div $for="items" class="item trans" $:.click="$root.value">
      <!-- 绑定数据为单选-->
      <slot $name="index"></slot>
      <wcex-ui.icon $color="$root.color" $icon="flagIcon" $if="flagIcon" $size="checked?1:0"></wcex-ui.icon>
    </div>
  </div>
  <div $if="type=='checkbox'">
    <div $for="items" class="item trans" $::.click="$root.value">
      <!-- 绑定数据为数组，设为数组 -->
      <slot $name="index"></slot>
      <wcex-ui.icon $color="$root.color" $icon="flagIcon" $if="flagIcon" $size="checked?1:0"></wcex-ui.icon>
    </div>
  </div>
</template>
